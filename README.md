This repository contains the replication files for [Afrouzi (2023)](https://afrouzi.com/strategic_inattention.pdf) titled "Strategic Inattention, Inflation Dynamics, and the Non-Neutrality of Money."

## Replication instructions
The file `main.m` is the primary file for replication of results generated by Matlab. The code is automated and can be customized to replicate any desired result using the switches on lines 19 to 32. To re-solve and/or re-calibrate any specific model or to replicate figures and tables, simply assign the value of `'Y'` to its corresponding switch and run the `main.m` file. 

Similarly, the file `main.do` is the primary file for replication of results generated by Stata. To get started, open this file and replace the global variables `project_dir` with the path to the folder containing these replication files in line 31. The rest of the code is automated and can be customized to replicate any desired result using the switches on lines 43 to 63. To replicate a specific table or figure, simply assign the value of 1 to its corresponding switch and run the `main.do` file. Note that the code requires several packages. If you face any errors regarding missing packages, you can install them by uncommenting lines 20 to 24 of the `main.do` file and running this file once.  

The `main.do` and `main.m` files are sufficient for all replications. They call the following files from the repository that are stored in the structure presented at the bottom of this README file. I have also included a short description of what each file is used for. For more information, see preamble of files or please reach out to me at [ha2475@columbia.edu](mailto:ha2475@columbia.edu).

## Data sources
The folder `input` contains all the data used in this project. These are all publicly available and were obtained from the following sources:
* [Coibion, Gorodnichenko and Kumar, 2018](https://www.aeaweb.org/articles?id=10.1257/aer.20151299) (CGK_2018): https://doi.org/10.1257/aer.20151299
* [Coibion, Gorodnichenko, Kumar and Ryngaert, 2021](https://doi.org/10.1093/qje/qjab005) (CGKR_2021): https://doi.org/10.7910/DVN/IAEJDU
* New Zealand Gross Domestic Product: https://www.rbnz.govt.nz/statistics/series/economic-indicators/gross-domestic-product (downloaded on Nov 27, 2022)
* ANZSIC codes (used for classification of industries in processing the data): https://en.wikipedia.org/wiki/Australian_and_New_Zealand_Standard_Industrial_Classification

## Code sources
The folder `codes/matlab/Library` contains the following software packages and codes that were not written by me as a part of this project. The source links and references for these codes are:
* [DRIPs.m @ commit 2c87541](https://github.com/choongryulyang/DRIPs.m/tree/2c87541c3fcbdc1265f02fb29698f707c5825773): for solving dynamic rational inattention problems by [Afrouzi and Yang (2019)](https://afrouzi.com/dynamic_inattention/draft_2021_04.pdf)
* [ztran @ commit ad3ff19](https://github.com/econdojo/ztran/tree/ad3ff19a0cc4f7005cdc5fe8b27c7b2f57a1c6d1): for solving imperfect informtion models used here for ARMA approximation method by 


	Tan, Fei and Wu, Jieran, z-Tran: MATLAB Software for Solving Dynamic Incomplete Information Models (August 22, 2023)
* `neldmead_bounds.m`: Nelder-Mead optimization with bounds for parameters, originally by H.P. Gavin (see preamble of the file for reference).

```
â”£ ğŸ“œmain.m
â”£ ğŸ“œmain.do
â”£ ğŸ“œREADME.md
â”£ ğŸ“œLICENSE.md
â”£ ğŸ“‚codes
â”ƒ â”£ ğŸ“‚matlab (all matlab codes used by main.m)
â”ƒ â”ƒ â”£ ğŸ“‚Library (code not written by me as a part of this project)
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚DRIPs.m (for solving dynamic rational inattention problems by Afrouzi and Yang, 2019 --- see below for source link)
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ztran (for solving imperfect information models Tan and Wu, 2023, used here for ARMA approximation solution method --- see below for source link)
â”ƒ â”ƒ â”ƒ â”— ğŸ“œneldmead_bounds.m (for Nelder-Mead optimization with bounds on parameters --- see preamble for source)
â”ƒ â”ƒ â”£ ğŸ“œarima_approx.m (for arima approximation of a process with a unit root)
â”ƒ â”ƒ â”£ ğŸ“œcalib_eval.m (evaluates the GMM loss)
â”ƒ â”ƒ â”£ ğŸ“œcalibrate.m (optimizes loss function to find parameters that match moments)
â”ƒ â”ƒ â”£ ğŸ“œfigure_appendix_cap.m (generates appendix figures for capacity of information processing across counterfactuals)
â”ƒ â”ƒ â”£ ğŸ“œfigure_arma_comparison.m (generates figure J.1)
â”ƒ â”ƒ â”£ ğŸ“œfigure_capacities.m (generates Figure A.4)
â”ƒ â”ƒ â”£ ğŸ“œfigure_concentration_multipliers.m (generates Figure 2)
â”ƒ â”ƒ â”£ ğŸ“œfigure_higher_order.m (generates Figure A.7)
â”ƒ â”ƒ â”£ ğŸ“œfigure_identification.m (generates Figure A.3)
â”ƒ â”ƒ â”£ ğŸ“œfigure_irfs.m (generates Figure A.5)
â”ƒ â”ƒ â”£ ğŸ“œfigure_str_comps.m (generates Figure A.6)
â”ƒ â”ƒ â”£ ğŸ“œfigure_uncer_vs_K.m (generates Figure 1)
â”ƒ â”ƒ â”£ ğŸ“œfind_alpha.m (returns array of strategic complementarities as a function of K in different models)
â”ƒ â”ƒ â”£ ğŸ“œfind_gamma.m (externally calibrates curvature of profit function to targets average strategic complementarity moment)
â”ƒ â”ƒ â”£ ğŸ“œinterpolate_irfs.m (interpolates irfs on a finer time grid)
â”ƒ â”ƒ â”£ ğŸ“œKY_conjugate.m (solves Kalman-Yakubovich equation as a fast method to generate Figure A.7)
â”ƒ â”ƒ â”£ ğŸ“œomega_norm.m (finds appropriate normalization of cost of attention to standardize attention problem)
â”ƒ â”ƒ â”£ ğŸ“œsimulate.m (returns simulated panel data for firms' expectations given a model solution)
â”ƒ â”ƒ â”£ ğŸ“œsolve_model_arima.m (solves the model for one set of parameters given arima approximation method)
â”ƒ â”ƒ â”£ ğŸ“œsolve_model_int_ma.m (solves the model for one set of parameters given integrated MA trunction)
â”ƒ â”ƒ â”£ ğŸ“œsolve_models_arima.m (solves the model for an array of parameters using solve_model_arima.m)
â”ƒ â”ƒ â”£ ğŸ“œsolve_models_int_ma.m (solves the model for an array of parameters using solve_model_int_ma.m)
â”ƒ â”ƒ â”£ ğŸ“œsolve.m (wrapping function for all solvers that solves the model given a method and solution options)
â”ƒ â”ƒ â”£ ğŸ“œtable_appendix.m (generates appendix tables for output and inflation acrosss models)
â”ƒ â”ƒ â”£ ğŸ“œtable_calibration.m (generates Table 3)
â”ƒ â”ƒ â”£ ğŸ“œtable_decomposition.m (generates Table 6)
â”ƒ â”ƒ â”£ ğŸ“œtable_inflation.m (generates Table 5)
â”ƒ â”ƒ â”£ ğŸ“œtable_output.m (generates Table 4)
â”ƒ â”ƒ â”— ğŸ“œvar.m (a tiny function to calculate inner product of vector with itself)
â”ƒ â”£ ğŸ“‚stata
â”ƒ â”ƒ â”£ ğŸ“œappendix_D.do (replicates Figure D.1 and Table D.1)
â”ƒ â”ƒ â”£ ğŸ“œfigure_binscatter_data.do (replicates binscatter plot data in Figure 1)
â”ƒ â”ƒ â”£ ğŸ“œfigure_hist_K.do (replicates Figure A.1)
â”ƒ â”ƒ â”£ ğŸ“œfigure_nowcast_errors.do (replicates Figure A.2)
â”ƒ â”ƒ â”£ ğŸ“œgen_Kdist.do (generates calibration of distribution of K in shares.csv used in solving the model)
â”ƒ â”ƒ â”£ ğŸ“œnz_ngdp.do (replicates moments for new zealand nominal GDP)
â”ƒ â”ƒ â”£ ğŸ“œprocess_data.do (processes publicly available data to be used in replication of stata results)
â”ƒ â”ƒ â”£ ğŸ“œtable_calib_eta.do (replicates Tables I.1 and L.1)
â”ƒ â”ƒ â”£ ğŸ“œtable_calib_omega.do (replicates Table A.2)
â”ƒ â”ƒ â”£ ğŸ“œtable_K_alpha_sumstats.do (replicates Table A.1)
â”ƒ â”ƒ â”£ ğŸ“œtable_nowcast_errors.do (replicates Table 2)
â”ƒ â”ƒ â”— ğŸ“œtable_uncertainty_reg.do (replicates Table 1)
â”£ ğŸ“‚workingdir (contains interim stored results generated by the code)
â”ƒ â”£ ğŸ“œatkeson_burstein.mat (stored calibrated solutions of models with Atkeson Burstein preferences)
â”ƒ â”£ ğŸ“œbinscatter_subjective_uncertainty.csv (generated by figure_binscatter_data.do above)
â”ƒ â”£ ğŸ“œbinscatter_subjective_uncertainty.csv.do (generated by figure_binscatter_data.do above)
â”ƒ â”£ ğŸ“œbm_arma.mat (stored solution of calibrated benchmark model using ARMA approximation method)
â”ƒ â”£ ğŸ“œbm.mat (stored calibrated solution of the benchmark model using integrated MA trunction method)
â”ƒ â”£ ğŸ“œcf_Table_6.mat (solution of counterfactual used in decomposition in Table 6)
â”ƒ â”£ ğŸ“œcf_Table_L3.mat (solution of counterfactual used in decomposition in Table L.3)
â”ƒ â”£ ğŸ“œcf_Table_L5.mat (solution of counterfactual used in decomposition in Table L.5)
â”ƒ â”£ ğŸ“œcf_Table_M3.mat (solution of counterfactual used in decomposition in Table M.3)
â”ƒ â”£ ğŸ“œK_and_alpha.dta (processed data for stata results)
â”ƒ â”£ ğŸ“œmaster_file_processed.dta (processed data for stata results)
â”ƒ â”£ ğŸ“œmatlab_log.txt (MATLAB log file for calibration of all models)
â”ƒ â”£ ğŸ“œrobust_beta.mat (stored calibrated solution of the model in Table M1b)
â”ƒ â”£ ğŸ“œrobust_idio.mat (stored calibrated solution of the model in Table M.2)
â”ƒ â”£ ğŸ“œrobust_rho.mat (stored calibrated solution of the model in table M1a)
â”ƒ â”— ğŸ“œshares.csv (generated by gen_Kdist.do)
â”£ ğŸ“‚input (contains data from public sources and other publshed work --- see below for source links)
â”ƒ â”£ ğŸ“‚CGK_2018 (replication files from Cobion, Gorodnichenko, and Kumar, 2018)
â”ƒ â”£ ğŸ“‚CGKR_2021 (replication files from Coibion, Gorodnichenko, Kumar, and Ryngaert, 2021)
â”ƒ â”£ ğŸ“œhm5.xlsx (public data for New Zealand nominal GDP)
â”£ ğŸ“‚out (contains automatically generated results)
â”ƒ â”£ ğŸ“œFigure_1.eps
â”ƒ â”£ ğŸ“œFigure_2.eps
â”ƒ â”£ ğŸ“œFigure_A1.eps
â”ƒ â”£ ğŸ“œFigure_A2.eps
â”ƒ â”£ ğŸ“œFigure_A3.eps
â”ƒ â”£ ğŸ“œFigure_A4.eps
â”ƒ â”£ ğŸ“œFigure_A5.eps
â”ƒ â”£ ğŸ“œFigure_A6.eps
â”ƒ â”£ ğŸ“œFigure_A7.eps
â”ƒ â”£ ğŸ“œFigure_D1_q10.eps
â”ƒ â”£ ğŸ“œFigure_D1_q4.eps
â”ƒ â”£ ğŸ“œFigure_J1.eps
â”ƒ â”£ ğŸ“œFigure_L1.eps
â”ƒ â”£ ğŸ“œFigure_L2.eps
â”ƒ â”£ ğŸ“œFigure_M1.eps
â”ƒ â”£ ğŸ“œTable_1.tex
â”ƒ â”£ ğŸ“œTable_2.tex
â”ƒ â”£ ğŸ“œTable_4.tex
â”ƒ â”£ ğŸ“œTable_5.tex
â”ƒ â”£ ğŸ“œTable_6.tex
â”ƒ â”£ ğŸ“œTable_A1.tex
â”ƒ â”£ ğŸ“œTable_A2.tex
â”ƒ â”£ ğŸ“œTable_D1.tex
â”ƒ â”£ ğŸ“œTable_I1.tex
â”ƒ â”£ ğŸ“œTable_J1.tex
â”ƒ â”£ ğŸ“œTable_J2.tex
â”ƒ â”£ ğŸ“œTable_J3.tex
â”ƒ â”£ ğŸ“œTable_L1.tex
â”ƒ â”£ ğŸ“œTable_L2.tex
â”ƒ â”£ ğŸ“œTable_L3.tex
â”ƒ â”£ ğŸ“œTable_L4.tex
â”ƒ â”£ ğŸ“œTable_L5.tex
â”ƒ â”£ ğŸ“œTable_M1a.tex
â”ƒ â”£ ğŸ“œTable_M1b.tex
â”ƒ â”£ ğŸ“œTable_M2.tex
â”ƒ â”£ ğŸ“œTable_M3.tex
â”— â”— ğŸ“œTest_MMW_replication.eps (replication of Figure 6 in Matejka, Mackowiak, and Wiederholt, 2018)
```
